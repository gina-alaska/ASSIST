# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://jashkenas.github.com/coffee-script/

function handleTopographies( ) {
  var fields = $(this).parents("fieldset");
  var value = parseInt($(this).val());

  if(<%= TopographyLookup.where("code >= 400 AND code < 500").pluck(:id) %>.indexOf(value) >= 0 )  {
    $(fields).find(".ridges").hide();
    $(fields).find(".ridges:not(.rafts) input").val('').removeAttr("selected").removeAttr("checked");
    $(fields).find(".ridges label").removeClass("ui-state-active");
    $(fields).find(".rafts").show();
  } else if(<%= TopographyLookup.where("code >= 500 AND code < 600").pluck(:id) %>.indexOf(value) >= 0 ) {
    $(fields).find(".ridges").show();
  } else {
    $(fields).find(".ridges").hide();
    $(fields).find(".ridges input").val('').removeAttr("selected").removeAttr("checked");
    $(fields).find(".ridges label").removeClass("ui-state-active");
    $(fields).find(".ridges").val('');
  }
}